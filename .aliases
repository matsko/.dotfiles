# aliases
alias aliases='vim ~/.zsh/.aliases'
alias reload='. ~/.zshrc'

#alias tmux-init='reattach-to-user-namespace -l'
alias tmux-init=''

# git stuff
alias gitrc='vim ~/.gitconfig';
alias gd='git diff'
alias gdc='git diff --cached'

alias ddsstore='sudo find ./ -name ".DS_Store" -depth -exec rm {} \;'
alias encode-file='iconv -f ISO-8859-1 -t UTF-8' 
alias usage='df -h'
alias space='du -sh ./*'
alias l='ls -lha'
alias sl='ls'
alias gti='git'
alias tu='top -o cpu'
alias c='clear'
alias trim="tr -s \" \" | sed 's/^[ ]//g'"
alias total-files='ls -1 | wc -l | trim'
alias su='sudo -i'

function trail {
  echo "$(pwd)/$1"
}

# file system
alias o='open .'
alias www='cd /Users/matsko/code'
alias home='cd ~'
alias sites='www'
alias applications='cd 
~/Applications'
alias documents='cd ~/Documents'
alias downloads='cd ~/Downloads'
alias projects='cd ~/Documents/Projects' 
alias pictures='cd ~/Pictures'
alias music='cd ~/Music'
alias movies='cd ~/Movies'
alias desktop='cd ~/Desktop'
alias public-key='cat ~/.ssh/id_rsa.pub | pbcopy; echo "public key copied to clipboard"'
alias hosts='sudo vim /etc/hosts' 

# vim stuff
alias v='tmux-init nvim .'
alias mvim='tmux-init mvim -N'
alias vim='tmux-init nvim'
alias tvim='nvim'
alias vimrc='vim ~/.vimrc'
alias scripts='cd ~/.vim/scripts; vim .'
alias vundle='vim +BundleInstall +qall'
alias gitrc='vim ~/.gitconfig'

alias lipsum='echo "Lorem ipsum dolor sit amet, consectetur adipiscing elit. In malesuada risus eu magna posuere eu 
laoreet odio ornare. Proin malesuada gravida magna at lacinia. Donec metus erat, rutrum sit amet faucibus quis, mattis at 
sem. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean feugiat nibh in quam 
facilisis a rutrum risus malesuada. Fusce libero libero, scelerisque eget luctus a, blandit vel nisi. Proin elit nisi, 
adipiscing nec congue et, ornare vel enim. Nam orci dui, volutpat vitae fringilla vitae, scelerisque ut neque. Etiam 
libero orci, consequat ac porttitor a, feugiat nec orci. Nullam volutpat rhoncus dolor sed pellentesque. Etiam ornare, 
enim molestie semper imperdiet, urna ligula porta massa, in tempor diam quam ut velit. Ut sit amet nulla sem, pellentesque 
bibendum elit. Sed lectus libero, iaculis a vestibulum at, laoreet tempor orci. Praesent scelerisque urna et velit 
eleifend viverra." | pbcopy; echo "copied to clipboard";'

function wip {
  MSG=$1
  if [ -z $MSG ]; then
    MSG='feat(core): wip'
  fi
  git add .
  git commit -am $MSG
}

alias ipaddr='ipconfig getifaddr en0' alias whatismyip='curl --silent canihazip.com/s'

function h {
  PORT=$1
  if [ -z $PORT ]; then
    PORT=5123
  fi
  open "http://localhost:$PORT"
  sleep 1
  http-server -c-1 -p $PORT
}
alias hh='h 6969'
alias zshrc='vim ~/.zshrc'

alias ..='cd ..'
alias mfx='cd ~/code/mfx';

alias a='cd ~/code/angular';
alias adw='yarn bazel shutdown; bazel run --define=compile=aot //packages/core/test/bundling/animation_world:devserver';
alias adwb='yarn bazel shutdown; bazel build --define=compile=aot //packages/core/test/bundling/animation_world:devserver';
alias adt='yarn bazel shutdown; bazel run --define=compile=aot //packages/core/test/bundling/todo:devserver';
alias atco='yarn bazel run packages/core/test';
alias datco='yarn bazel run packages/core/test';
alias atc='yarn bazel run packages/core/test/render3';
alias atca='yarn bazel run packages/core/test/acceptance';
alias datca='yarn bazel test packages/core/test/acceptance --config=debug';
alias at='yarn bazel run packages/core/test:test --define=compile=aot';
alias atcw='yarn bazel run packages/core/test/render3:render3_web';
alias atcwd='yarn bazel test packages/core/test/render3:render3_web --config=debug';
alias ata='yarn bazel run packages/core/test/animations_next';
alias atcomp='yarn bazel run packages/compiler/test/render3:test';
alias datc='yarn bazel test packages/core/test/render3 --config=debug';
alias datcomp='yarn bazel test packages/compiler/test/render3:test --condig=debug';
alias atcm='yarn bazel run packages/compiler-cli/test/compliance';
alias datcm='yarn bazel test packages/compiler-cli/test/compliance --config=debug';
alias atngtsci='yarn bazel run packages/compiler-cli/test/ngtsc';
alias datngtsci='yarn bazel test packages/compiler-cli/test/ngtsc --config=debug';

function agolden {
  yarn bazel run --define=compile=aot //packages/core/test/bundling/todo:symbol_test.accept
  yarn bazel run --define=compile=aot //packages/core/test/bundling/hello_world:symbol_test.accept
  yarn bazel run --define=compile=aot //packages/core/test/bundling/cyclic_import:symbol_test.accept
  yarn bazel run //tools/public_api_guard:ng_global_utils_api.accept
  yarn bazel run //tools/public_api_guard:core_api.accept
}

alias blaze=bazel

function generate_aio_es5 {
  ./scripts/build-packages-dist.sh;
  cd aio;
  rm -fr node_modules;
  rm -fr dist;
  yarn aio-use-local;
  rm -fr node_modules/.cache;
  cp ~/common_js_terser_no_compress.js ./node_modules/@angular-devkit/build-angular/src/angular-cli-files/models/webpack-configs/common.js;
  NG_BUILD_MANGLE=0 ng build --configuration=stable;
  B=`git branch | grep \* | cut -d ' ' -f2`
  F="es5_output_$B.js";
  js-beautify ./dist/main-es5.*.js > $F;
  echo "file saved as $F"
}
