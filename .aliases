# Command Shortcuts
alias v='nvim .';
alias vim='nvim';
alias o='open';
alias h='open http://localhost:5123; http-server -c-1 . -p 5123';
alias reload-aliases='cd ~; source .dotfiles/.zshrc; cd -';

# Incorrectly Spelled Command Aliases
alias claer='clear';
alias sl=ls

# Configuration Files
alias aliases='vim $DOTFILES_HOME/.aliases';
alias aliases.local='vim $DOTFILES_HOME/.aliases.local';
alias gitconfig='vim $DOTFILES_HOME/.gitconfig';
alias gitconfig.local='vim $DOTFILES_HOME/gitconfig.local';
alias tmuxconfig="vim ~/.tmux.conf"
alias tmuxconfig.local="vim ~/.tmux.conf.local"
alias paths='vim $DOTFILES_HOME/.paths';
alias paths.local='vim $DOTFILES_HOME/.paths.local';
alias zshrc='vim ~/.zshrc';
alias zshrc.dotfiles='vim $DOTFILES_HOME/.zshrc';
alias vimrc='vim $DOTFILES_HOME/.vimrc';
alias vimrc.local='vim $DOTFILES_HOME/.vimrc.local';
alias vars='vim $DOTFILES_HOME/.vars';
alias vars.local='vim $DOTFILES_HOME/.vars.local';
alias sshconfig="vim ~/.ssh/config"
alias vscode-snippets="cd $DOTFILES_HOME/.vscode-snippets"

# Directories
alias www='cd ~/code';
alias dotfiles='cd $DOTFILES_HOME';

function tc {
  PROJECT_NAME="$1"
  PROJECT_DIR="$PROJECTS_HOME"
  if [ -z "$PROJECT_NAME" ] || [ "$PROJECT_NAME" = "default" ]; then
    PROJECT_NAME="default"
  else
    PROJECT_DIR="$PROJECTS_HOME/$PROJECT_NAME"
  fi
  vim "$PROJECT_DIR/.tmux"
}

function t {
  PROJECT_NAME="$1"
  PROJECT_DIR="$PROJECTS_HOME"
  if [ -z "$PROJECT_NAME" ] || [ "$PROJECT_NAME" = "default" ]; then
    PROJECT_NAME="default"
  else
    PROJECT_DIR="$PROJECTS_HOME/$PROJECT_NAME"
  fi

  echo $PROJECT_DIR
  tmux has-session -t $PROJECT_NAME 2>/dev/null
  if [ $? != 0 ]; then
    tmux-boot $PROJECT_NAME
  fi
  tmux attach-session -t $PROJECT_NAME
}

function tmux-boot {
  PROJECT_NAME="$1"
  if [[ $PROJECT_NAME = "default" ]]; then
    PROJECT_DIR="$PROJECTS_HOME"
  else
    PROJECT_DIR="$PROJECTS_HOME/$PROJECT_NAME"
  fi
  if [[ -d "$PROJECT_DIR" ]]; then
    cd $PROJECT_DIR
    TMUX_FILE="$PROJECT_DIR/.tmux"
    if [[ -f $TMUX_FILE ]]; then
      echo "loading $TMUX_FILE"
      export TMUX_SESSION_NAME="$PROJECT_NAME"
      source $TMUX_FILE
      export TMUX_SESSION_NAME=""
    else
      echo ".tmux does not exist in $PROJECT_DIR"
    fi
  else
    echo "$PROJECT_DIR does not exist"
  fi
}

alias tmux-halt="tmux kill-session -s"
